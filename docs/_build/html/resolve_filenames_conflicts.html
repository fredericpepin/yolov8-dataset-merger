<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>resolve_filenames_conflicts module &mdash; YOLOv8 Dataset Merger 2024-09-30 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=4d045338"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="supervisely_json_to_yolov8 module" href="supervisely_json_to_yolov8.html" />
    <link rel="prev" title="map_classes_number module" href="map_classes_number.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            YOLOv8 Dataset Merger
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">dataset_merger</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="background_images.html">background_images module</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_sphinx.html">build_sphinx module</a></li>
<li class="toctree-l2"><a class="reference internal" href="change_class_according_to_HSV.html">change_class_according_to_HSV module</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_functions.html">common_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_segmentation_mask_to_bounding_box.html">convert_segmentation_mask_to_bounding_box module</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">examples module</a></li>
<li class="toctree-l2"><a class="reference internal" href="map_classes_number.html">map_classes_number module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">resolve_filenames_conflicts module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-summary">Module Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resolve_filenames_conflicts.are_there_conflicts"><code class="docutils literal notranslate"><span class="pre">are_there_conflicts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#resolve_filenames_conflicts.merge_datasets"><code class="docutils literal notranslate"><span class="pre">merge_datasets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#resolve_filenames_conflicts.resolve_filenames_conflicts_and_merge"><code class="docutils literal notranslate"><span class="pre">resolve_filenames_conflicts_and_merge()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="supervisely_json_to_yolov8.html">supervisely_json_to_yolov8 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="test.html">test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_file_merger.html">yaml_file_merger module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">YOLOv8 Dataset Merger</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">dataset_merger</a></li>
      <li class="breadcrumb-item active">resolve_filenames_conflicts module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/resolve_filenames_conflicts.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-resolve_filenames_conflicts">
<span id="resolve-filenames-conflicts-module"></span><h1>resolve_filenames_conflicts module<a class="headerlink" href="#module-resolve_filenames_conflicts" title="Link to this heading"></a></h1>
<section id="module-summary">
<h2>Module Summary<a class="headerlink" href="#module-summary" title="Link to this heading"></a></h2>
<p>This module provides functionality to merge multiple datasets that cont-
ain images and corresponding label files. The datasets are expected to be
structured in subdirectories for training, testing, and validation, with
each containing their respective ‘images’ and ‘labels’ directories.</p>
<p>The module includes functions for resolving filename conflicts during
the merge process, as well as generating a consolidated YAML file that
contains class remapping information.</p>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><dl class="simple">
<dt>resolve_filenames_conflicts_and_merge(path_list: list[str],</dt><dd><p>output_name=None,
base_directory=None) -&gt; None</p>
</dd>
</dl>
<ul class="simple">
<li><p>Merges multiple directories containing images and labels, resolving
filename conflicts by appending suffixes to duplicate filenames.</p></li>
</ul>
</li>
<li><dl class="simple">
<dt>merge_datasets(path_to_folder_containing_datasets: str,</dt><dd><p>output_dataset_path: str = None) -&gt; None</p>
</dd>
</dl>
<ul class="simple">
<li><p>Merges datasets from a specified folder into a single dataset,
organizing the output into subdirectories for training, testing,
and validation. Creates a merged YAML file containing class
remapping information.</p></li>
</ul>
</li>
</ol>
</section>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><cite>yaml_file_merger</cite>: For merging YAML files.</p></li>
<li><p><cite>map_classes_number</cite>: For remapping class identifiers in label files.</p></li>
<li><p><cite>common_functions</cite>: For utility functions such as creating unique
directories.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>Ensure that the datasets being merged follow the expected directory
structure for the module to function correctly. Typically, this means
that a yolov8 dataset folder contains a .yaml file containing metadata,
subfolders called “train”, “test” and “val” or “valid”. These subfolders
have their own subfolders that should be called “images” and “labels”.
Any discrepancy in the names will result in failure of the functions.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="resolve_filenames_conflicts.are_there_conflicts">
<span class="sig-prename descclassname"><span class="pre">resolve_filenames_conflicts.</span></span><span class="sig-name descname"><span class="pre">are_there_conflicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/resolve_filenames_conflicts.html#are_there_conflicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#resolve_filenames_conflicts.are_there_conflicts" title="Link to this definition"></a></dt>
<dd><p>_summary_
returns a dictionary of file names that occur more than once in the
given directory, with filenames as key and
number of occurences as value
:param folder: path/to/folder
:type folder: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resolve_filenames_conflicts.merge_datasets">
<span class="sig-prename descclassname"><span class="pre">resolve_filenames_conflicts.</span></span><span class="sig-name descname"><span class="pre">merge_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_folder_containing_datasets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/resolve_filenames_conflicts.html#merge_datasets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#resolve_filenames_conflicts.merge_datasets" title="Link to this definition"></a></dt>
<dd><section id="function-summary">
<h2>Function Summary<a class="headerlink" href="#function-summary" title="Link to this heading"></a></h2>
<p>Merges multiple datasets contained within a specified folder into a
single dataset. This function organizes the merged dataset into
subdirectories for training, testing, and validation. It creates
a merged .yaml file which contains metadata, most importantly
class ids and their remapped numbering, with the submodule
<em>yaml_file_merger</em>. It will then modify the label files to change
the class ids according the the remapping in the yaml file, with
submodule <em>map_classes_number</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">param path_to_folder_containing_datasets<span class="colon">:</span></dt>
<dd class="field-odd"><p>The path to the folder
that contains the individual datasets with their respective
training, testing, and validation folders, and their yaml file.</p>
</dd>
<dt class="field-even">type path_to_folder_containing_datasets<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param output_dataset_path<span class="colon">:</span></dt>
<dd class="field-odd"><p>The optional path where the merged
dataset will be saved. If not provided, the merged dataset will
be created in the same parent directory as the input datasets.</p>
</dd>
<dt class="field-even">type output_dataset_path<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">merge_datasets</span><span class="p">(</span><span class="s2">&quot;path/to/folder/containing/datasets&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resolve_filenames_conflicts.resolve_filenames_conflicts_and_merge">
<span class="sig-prename descclassname"><span class="pre">resolve_filenames_conflicts.</span></span><span class="sig-name descname"><span class="pre">resolve_filenames_conflicts_and_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/resolve_filenames_conflicts.html#resolve_filenames_conflicts_and_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#resolve_filenames_conflicts.resolve_filenames_conflicts_and_merge" title="Link to this definition"></a></dt>
<dd><section id="id1">
<h2>Function Summary<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>Merges multiple directories that contain subdirectories named
“images” and “labels”. The function resolves filename conflicts
by appending a suffix to conflicting ones. This is useful for
consolidating datasets while maintaining unique identifiers.</p>
<dl class="simple">
<dt>:param<span class="classifier">must contain subdirectories named “images” and “labels”. Those</span></dt><dd><p>directories are typically “train”, “test” and “val” or “valid”, for
yolov8</p>
</dd>
</dl>
<p>:type : param path_list: A list of directories to be merged. Each directory
:param :
:type : type path_list: list[str]
:param : provided, a default output directory will be created. This is on the</p>
<blockquote>
<div><p>level of “train”, “test” and “valid”</p>
</div></blockquote>
<p>:type : param output_name: The name of the output directory. If not
:param :
:type : type output_name: str, optional
:param : directory will be stored. It is the global output merged dataset</p>
<blockquote>
<div><p>directory. If not provided, it will default
to the parent directory of the first images directory.</p>
</div></blockquote>
<p>:type : param base_directory: The base directory where the output
:param :
:type : type base_directory: str, optional
:param :
:type : return: None</p>
</section>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="map_classes_number.html" class="btn btn-neutral float-left" title="map_classes_number module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="supervisely_json_to_yolov8.html" class="btn btn-neutral float-right" title="supervisely_json_to_yolov8 module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Frederic Pepin.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>